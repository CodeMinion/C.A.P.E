<HTML>

<HEAD>
<script src="fabric.min.js"></script>
<script src="jquery-3.3.1.min.js"></script>
</HEAD>

<BODY>

<form id="jsonFile" name="jsonFile" enctype="multipart/form-data" method="post">

  <fieldset>
    <h2>Json File</h2>
     <input type='file' id='fileinput'>
     <input type='button' id='btnLoad' value='Load' onclick='loadFile();'>
  </fieldset>
</form>

<canvas id="c" width="200" height="100"></canvas>


<script>
// create a wrapper around native canvas element (with id="c")
var canvas = new fabric.Canvas('c');
canvas.setHeight(1500);
canvas.setWidth(1500);

jQuery.getJSON("C:\Users\CodeMinion\Desktop\ComicsFolder\Scott's Comics\...And Ive got a thing for you too\2013.06.01-Sloan_p01.cpanel", function (data)
{
	console.log(data);
}
);
// create a rectangle object
/*
var rect = new fabric.Rect({
  left: 100,
  top: 100,
  fill: 'red',
  width: 20,
  height: 20
});
*/
// "add" rectangle onto canvas
//canvas.add(rect);
canvas.setBackgroundImage('file://C:\\Users\\CodeMinion\\Desktop\\ComicsFolder\\Scott\'s Comics\\...And Ive got a thing for you too\\2013.06.01-Sloan_p01.jpg');


function loadFile() {
    var input, file, fr;

    if (typeof window.FileReader !== 'function') {
      alert("The file API isn't supported on this browser yet.");
      return;
    }

    input = document.getElementById('fileinput');
    if (!input) {
      alert("Um, couldn't find the fileinput element.");
    }
    else if (!input.files) {
      alert("This browser doesn't seem to support the `files` property of file inputs.");
    }
    else if (!input.files[0]) {
      alert("Please select a file before clicking 'Load'");
    }
    else {
      file = input.files[0];
      fr = new FileReader();
      fr.onload = receivedText;
      fr.readAsText(file);
    }

    function receivedText(e) {
      let lines = e.target.result;
      var newArr = JSON.parse(lines); 
	  var panels = newArr.panels;
	  for (panelInfo in panels)
	  {
		 box = 	panels[panelInfo].box;
		 
		 var rect = new fabric.Rect({
		  left: box.x,
		  top: box.y,
		  fill: 'green',
		  width: box.w,
		  height: box.h
		});
		rect.opacity=0.3;

		// "add" rectangle onto canvas
		canvas.add(rect);

		 console.log(box);
	  }
	  
	  
	  console.log(newArr);
    }
  }
</script>


</BODY>

</HTML>